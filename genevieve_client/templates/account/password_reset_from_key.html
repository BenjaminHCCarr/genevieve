{% extends 'base.html' %}

{% block main %}
<h3>Set your new password</h3>
{{ form.non_field_errors }}
<p>
  You can set your new password using the form below.
</p>

<form class="form-horizontal" role="form" method="POST"
    action="." id="password-reset-from-key-form">
  {% csrf_token %}

  {% if redirect_field_value %}
  <input type="hidden" name="{{ redirect_field_name }}"
    value="{{ redirect_field_value }}" />
  {% endif %}

  <div class="form-group{% if form.password1.errors %} has-error{% endif %}">
    <label for="id-password1" class="col-sm-2 control-label">
      New password:</label>

    <div class="col-sm-10">
      <input type="password" class="form-control" name="password1"
        id="id-password1" placeholder="Password"
        value="{{ form.password1.value|default:'' }}">
      {% if form.password1.errors %}
        {% for error in form.password1.errors %}
        <span class="help-block">{{ error }}</span>
        {% endfor %}
      {% endif %}
    </div>
  </div>

  <div class="form-group{% if form.password2.errors %} has-error{% endif %}">
    <label for="id-password2" class="col-sm-2 control-label">
      New password (again):</label>

    <div class="col-sm-10">
      <input type="password" class="form-control" name="password2"
        id="id-password2" placeholder="Password">
      {% if form.password2.errors %}
        {% for error in form.password2.errors %}
        <span class="help-block">{{ error }}</span>
        {% endfor %}
      {% endif %}
    </div>
  </div>

  <input id="password-reset-from-key" type="submit" value="Change password"
    form="password-reset-from-key-form"
    class="btn btn-primary col-md-offset-2">
</form>
{% endblock %}
